package com.example.sqlbrite.todo.ui;import android.os.Bundle;import com.example.sqlbrite.todo.di.UserActivityScopeComponent;import com.example.sqlbrite.todo.di.InjectHelper;import com.example.sqlbrite.todo.model.users.UserSession;import com.example.sqlbrite.todo.schedulers.SchedulerProvider;import com.gg.rxbase.ui.RxBaseActivity;import javax.inject.Inject;/** * @author Guang1234567 * @date 2018/3/10 11:21 */public abstract class BaseUserViewModelActivity extends RxBaseActivity implements UserActivityScopeComponent.Injectable {    private UserActivityScopeComponent mActivityScopeComponent;    @Inject    SchedulerProvider mSchedulerProvider;    @SuppressWarnings("unchecked")    @Override    protected void onCreate(Bundle savedInstanceState) {        UserSession loginUs = InjectHelper.instance()                .getAppScopeComponent()                .loginFlowRepository()                .currentLoginUserSession()                .blockingFirst();        if (loginUs == null) {            throw new IllegalStateException("Must under login!");        }        mActivityScopeComponent = InjectHelper.instance()                .createUserActivityScopeComponent(this,                        loginUs.getUserScopeComponent());        inject(mActivityScopeComponent);        super.onCreate(savedInstanceState);    }    public UserActivityScopeComponent getActivityScopeComponent() {        return mActivityScopeComponent;    }    public SchedulerProvider getSchedulerProvider() {        return mSchedulerProvider;    }}